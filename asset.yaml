# BUCKET - Spotify-Playlist
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-playlist-5
spec:
  title: Spotify-Playlist
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    image:
      type: storage
      title: image
      description: Description of the image input
      options:
        position: bottom
    created_at:
      type: date
      title: created_at
      description: Description of the created_at input
      options:
        position: bottom
      default: :created_at
    popularity:
      type: number
      title: popularity
      description: Description of the popularity input
      options:
        position: bottom
      minimum: 0
      maximum: 100
    private:
      type: boolean
      title: private
      description: Description of the private input
      options:
        position: bottom
      default: false
  acl:
    write: auth._id == document.owner.identity_id ||
      some(document.admins.identity_id, [auth._id])
    read: "!private || some(document.admins.identity_id, [auth._id])"
  order: 4
---
# BUCKET - Spotify-Album
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-album-4
spec:
  title: Spotify-Album
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    cover:
      type: storage
      title: cover
      description: Description of the cover input
      options:
        position: bottom
    created_at:
      type: date
      title: created_at
      description: Description of the created_at input
      options:
        position: bottom
      default: :created_at
    popularity:
      type: number
      title: popularity
      description: Description of the popularity input
      options:
        position: bottom
      minimum: 0
      maximum: 100
  acl:
    write: auth._id == document.singer.identity_id || auth._id ==
      document.user.identity_id
    read: true==true
  order: 3
---
# BUCKET - Spotify-Music
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-music-3
spec:
  title: Spotify-Music
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    description:
      type: textarea
      title: description
      description: Description of the description input
      options:
        position: bottom
    createdat:
      type: date
      title: created_at
      description: Description of the createdat input
      options:
        position: bottom
      default: :created_at
    cover:
      type: storage
      title: cover
      description: Description of the cover input
      options:
        position: bottom
    source:
      type: storage
      title: source
      description: Description of the sourc input
      options:
        position: bottom
    clip:
      type: storage
      title: clip
      description: Description of the clip input
      options:
        position: bottom
    stream_count:
      type: number
      title: stream_count
      description: Description of the stream_count input
      options:
        position: bottom
      minimum: 0
    features:
      type: object
      title: features
      description: Description of the Features input
      options:
        position: bottom
      properties:
        danceability:
          type: number
          title: danceability
          description: Description of the danceability input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        loudness:
          type: number
          title: loudness
          description: Description of the loudness input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        speechiness:
          type: number
          title: speechiness
          description: Description of the speechiness input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        energy:
          type: number
          title: energy
          description: Description of the energy input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        tempo:
          type: number
          title: tempo
          description: Description of the tempo input
          options:
            position: bottom
          maximum: 100
          minimum: 0
        duration:
          type: number
          title: duration
          description: Description of the duration input
          options:
            position: bottom
          minimum: 0
        popularity:
          type: number
          title: popularity
          description: Description of the popularity input
          options:
            position: bottom
          maximum: 100
          minimum: 0
        kind:
          type: multiselect
          title: kind
          description: Description of the kind input
          options:
            position: bottom
          items:
            type: string
            enum:
              - Rap
              - Caz
              - Classic
              - Hiphop
              - Pop
              - Rock
        available_countries:
          type: multiselect
          title: available_countries
          description: Description of the available_countries input
          options:
            position: bottom
          items:
            type: string
            enum:
              - TR
              - US
              - DE
              - BR
        explicit:
          type: boolean
          title: explicit
          description: Description of the explicit input
          options:
            position: bottom
          default: false
        language:
          type: string
          title: language
          description: Description of the language input
          options:
            position: bottom
          enum:
            - English
            - Türkçe
            - Français
            - Español
            - Deutsch
      readOnly: false
  acl:
    write: auth._id == document.singer.identity_id || auth._id ==
      document.user.identity_id
    read: true == true
  order: 2
  required: []
---
# BUCKET - Spotify-Singer
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-singer-2
spec:
  title: Spotify-Singer
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    surname:
      type: string
      title: surname
      description: Description of the surname input
      options:
        position: bottom
    identity_id:
      type: string
      title: identity_id
      description: Description of the identity_id input
      options:
        position: bottom
    profile_pictures:
      type: array
      title: profile_pictures
      description: Description of the profile_pictures input
      options:
        position: bottom
      items:
        title: Title of the items
        type: storage
    birthday:
      type: date
      title: birthday
      description: Description of the birthday input
      options:
        position: bottom
    bio:
      type: textarea
      title: bio
      description: Description of the bio input
      options:
        position: bottom
    is_verified:
      type: boolean
      title: is_verified
      description: Description of the is_verified input
      options:
        position: bottom
      default: false
    popularity:
      type: number
      title: popularity
      description: Description of the popularity input
      options:
        position: bottom
      minimum: 0
      maximum: 100
  acl:
    write: auth._id == document.identity_id || auth.identifier == "spica"
    read: true==true
  order: 1
---
# BUCKET - Spotify-User
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-user-1
spec:
  title: Spotify-User
  description: Describe your new bucket
  icon: contactless
  primary: username
  readOnly: false
  history: false
  properties:
    username:
      type: string
      title: username
      description: Description of the username input
      options:
        position: bottom
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    surname:
      type: string
      title: surname
      description: Description of the surname input
      options:
        position: bottom
    identity_id:
      type: string
      title: identity_id
      description: Description of the identity_id input
      options:
        position: bottom
    mail:
      type: string
      title: mail
      description: Description of the mail input
      options:
        position: bottom
    bio:
      type: textarea
      title: bio
      description: Description of the bio input
      options:
        position: bottom
    birthday:
      type: date
      title: birthday
      description: Description of the birthday input
      options:
        position: bottom
    gender:
      type: string
      title: gender
      description: Description of the gender input
      options:
        position: bottom
      enum:
        - Male
        - Female
        - Other
    country:
      type: string
      title: country
      description: Description of the country input
      options:
        position: bottom
      enum:
        - TR
        - EN
        - US
        - DE
        - BR
    profile_picture:
      type: storage
      title: profile_picture
      description: Description of the profile_picture input
      options:
        position: bottom
    is_verified:
      type: boolean
      title: is_verified
      description: Description of the is_verified input
      options:
        position: bottom
      default: false
  acl:
    write: auth._id == document.identity_id || auth.identifier == "spica"
    read: true==true
  order: 0
---
# BUCKET - Spotify-Music
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-music-3
spec:
  title: Spotify-Music
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    description:
      type: textarea
      title: description
      description: Description of the description input
      options:
        position: bottom
    created_at:
      type: date
      title: created_at
      description: Description of the created_at input
      options:
        position: bottom
      default: :created_at
    cover:
      type: storage
      title: cover
      description: Description of the cover input
      options:
        position: bottom
    source:
      type: storage
      title: source
      description: Description of the sourc input
      options:
        position: bottom
    clip:
      type: storage
      title: clip
      description: Description of the clip input
      options:
        position: bottom
    singer:
      type: relation
      title: singer
      description: Description of the singer input
      options:
        position: bottom
      relationType: onetoone
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-singer-2
    user:
      type: relation
      title: user
      description: Description of the user input
      options:
        position: bottom
      relationType: onetoone
      dependent: false
      primary: username
      bucket:
        resourceFieldRef:
          schemaName: spotify-user-1
    album:
      type: relation
      title: album
      description: Description of the album input
      options:
        position: bottom
      relationType: onetoone
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-album-4
    likes:
      type: relation
      title: likes
      description: Description of the likes input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: username
      bucket:
        resourceFieldRef:
          schemaName: spotify-user-1
    stream_count:
      type: number
      title: stream_count
      description: Description of the stream_count input
      options:
        position: bottom
      minimum: 0
    features:
      type: object
      title: features
      description: Description of the Features input
      options:
        position: bottom
      properties:
        danceability:
          type: number
          title: danceability
          description: Description of the danceability input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        loudness:
          type: number
          title: loudness
          description: Description of the loudness input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        speechiness:
          type: number
          title: speechiness
          description: Description of the speechiness input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        energy:
          type: number
          title: energy
          description: Description of the energy input
          options:
            position: bottom
          minimum: 0
          maximum: 100
        tempo:
          type: number
          title: tempo
          description: Description of the tempo input
          options:
            position: bottom
          maximum: 100
          minimum: 0
        duration:
          type: number
          title: duration
          description: Description of the duration input
          options:
            position: bottom
          minimum: 0
        popularity:
          type: number
          title: popularity
          description: Description of the popularity input
          options:
            position: bottom
          maximum: 100
          minimum: 0
        kind:
          type: multiselect
          title: kind
          description: Description of the kind input
          options:
            position: bottom
          items:
            type: string
            enum:
              - Rap
              - Caz
              - Classic
              - Hiphop
              - Pop
              - Rock
        available_countries:
          type: multiselect
          title: available_countries
          description: Description of the available_countries input
          options:
            position: bottom
          items:
            type: string
            enum:
              - TR
              - EN
              - US
              - DE
              - BR
        explicit:
          type: boolean
          title: explicit
          description: Description of the explicit input
          options:
            position: bottom
          default: false
        language:
          type: string
          title: language
          description: Description of the language input
          options:
            position: bottom
          enum:
            - English
            - Türkçe
            - Français
            - Español
            - Deutsch
      readOnly: false
  acl:
    write: auth._id == document.singer.identity_id || auth._id ==
      document.user.identity_id
    read: true == true
  order: 2
  required: []
---
# BUCKET - Spotify-Singer
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-singer-2
spec:
  title: Spotify-Singer
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    surname:
      type: string
      title: surname
      description: Description of the surname input
      options:
        position: bottom
    identity_id:
      type: string
      title: identity_id
      description: Description of the identity_id input
      options:
        position: bottom
    profile_pictures:
      type: array
      title: profile_pictures
      description: Description of the profile_pictures input
      options:
        position: bottom
      items:
        title: Title of the items
        type: storage
    birthday:
      type: date
      title: birthday
      description: Description of the birthday input
      options:
        position: bottom
    bio:
      type: textarea
      title: bio
      description: Description of the bio input
      options:
        position: bottom
    is_verified:
      type: boolean
      title: is_verified
      description: Description of the is_verified input
      options:
        position: bottom
      default: false
    uploaded_musicss:
      type: relation
      title: uploaded_musicss
      description: Description of the uploaded_musicss input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-music-3
    uploaded_albums:
      type: relation
      title: uploaded_albums
      description: Description of the uploaded_albums input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-album-4
    followers:
      type: relation
      title: followers
      description: Description of the followers input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: username
      bucket:
        resourceFieldRef:
          schemaName: spotify-user-1
    popularity:
      type: number
      title: popularity
      description: Description of the popularity input
      options:
        position: bottom
      minimum: 0
      maximum: 100
  acl:
    write: auth._id == document.identity_id || auth.identifier == "spica"
    read: true==true
  order: 1
---
# BUCKET - Spotify-User
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-user-1
spec:
  title: Spotify-User
  description: Describe your new bucket
  icon: contactless
  primary: username
  readOnly: false
  history: false
  properties:
    username:
      type: string
      title: username
      description: Description of the username input
      options:
        position: bottom
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    surname:
      type: string
      title: surname
      description: Description of the surname input
      options:
        position: bottom
    identity_id:
      type: string
      title: identity_id
      description: Description of the identity_id input
      options:
        position: bottom
    mail:
      type: string
      title: mail
      description: Description of the mail input
      options:
        position: bottom
    bio:
      type: textarea
      title: bio
      description: Description of the bio input
      options:
        position: bottom
    birthday:
      type: date
      title: birthday
      description: Description of the birthday input
      options:
        position: bottom
    gender:
      type: string
      title: gender
      description: Description of the gender input
      options:
        position: bottom
      enum:
        - Male
        - Female
        - Other
    country:
      type: string
      title: country
      description: Description of the country input
      options:
        position: bottom
      enum:
        - TR
        - EN
        - US
        - DE
        - BR
    profile_picture:
      type: storage
      title: profile_picture
      description: Description of the profile_picture input
      options:
        position: bottom
    is_verified:
      type: boolean
      title: is_verified
      description: Description of the is_verified input
      options:
        position: bottom
      default: false
    followings:
      type: relation
      title: followed_singers
      description: Description of the followings input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-singer-2
    friends:
      type: relation
      title: friends
      description: Description of the friends input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: username
      bucket:
        resourceFieldRef:
          schemaName: spotify-user-1
    uploaded_musics:
      type: relation
      title: uploaded_musicss
      description: Description of the uploaded_musics input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-music-3
    uploaded_albums:
      type: relation
      title: uploaded_albums
      description: Description of the uploaded_albums input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-album-4
    uploaded_playlists:
      type: relation
      title: uploaded_playlists
      description: Description of the uploaded_playlists input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-playlist-5
    listening_history:
      type: relation
      title: listening_history
      description: Description of the listening_history input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-music-3
    currently_playing:
      type: relation
      title: currently_playing
      description: Description of the currently_playing input
      options:
        position: bottom
      relationType: onetoone
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-music-3
    playlists:
      type: relation
      title: playlists
      description: Description of the playlists input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-playlist-5
    liked_musics:
      type: relation
      title: liked_musics
      description: Description of the liked_musics input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-music-3
    liked_albums:
      type: relation
      title: liked_albums
      description: Description of the liked_albums input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-album-4
    liked_playlists:
      type: relation
      title: liked_playlists
      description: Description of the liked_playlists input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-playlist-5
  acl:
    write: auth._id == document.identity_id || auth.identifier == "spica"
    read: true==true
  order: 0
---
# BUCKET - Spotify-Playlist
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-playlist-5
spec:
  title: Spotify-Playlist
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    image:
      type: storage
      title: image
      description: Description of the image input
      options:
        position: bottom
    musics:
      type: relation
      title: musics
      description: Description of the musics input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-music-3
    created_at:
      type: date
      title: created_at
      description: Description of the created_at input
      options:
        position: bottom
      default: :created_at
    popularity:
      type: number
      title: popularity
      description: Description of the popularity input
      options:
        position: bottom
      minimum: 0
      maximum: 100
    owner:
      type: relation
      title: owner
      description: Description of the owner input
      options:
        position: bottom
      relationType: onetoone
      dependent: false
      bucket:
        resourceFieldRef:
          schemaName: spotify-user-1
    admins:
      type: relation
      title: admins
      description: Description of the admins input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      bucket:
        resourceFieldRef:
          schemaName: spotify-user-1
    likes:
      type: relation
      title: likes
      description: Description of the likes input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      bucket:
        resourceFieldRef:
          schemaName: spotify-user-1
    private:
      type: boolean
      title: private
      description: Description of the private input
      options:
        position: bottom
      default: false
  acl:
    write: auth._id == document.owner.identity_id ||
      some(document.admins.identity_id, [auth._id])
    read: "!private || some(document.admins.identity_id, [auth._id])"
  order: 4
---
# BUCKET - Spotify-Album
apiVersion: bucket/v1
kind: Schema
metadata:
  name: spotify-album-4
spec:
  title: Spotify-Album
  description: Describe your new bucket
  icon: contactless
  primary: name
  readOnly: false
  history: false
  properties:
    name:
      type: string
      title: name
      description: Description of the name input
      options:
        position: bottom
    cover:
      type: storage
      title: cover
      description: Description of the cover input
      options:
        position: bottom
    musics:
      type: relation
      title: musics
      description: Description of the Musics input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: name
      bucket:
        resourceFieldRef:
          schemaName: spotify-music-3
    created_at:
      type: date
      title: created_at
      description: Description of the created_at input
      options:
        position: bottom
      default: :created_at
    likes:
      type: relation
      title: likes
      description: Description of the like input
      options:
        position: bottom
      relationType: onetomany
      dependent: false
      primary: username
      bucket:
        resourceFieldRef:
          schemaName: spotify-user-1
    popularity:
      type: number
      title: popularity
      description: Description of the popularity input
      options:
        position: bottom
      minimum: 0
      maximum: 100
    singer:
      type: relation
      title: singer
      description: Description of the singer input
      options:
        position: bottom
      relationType: onetoone
      dependent: false
      bucket:
        resourceFieldRef:
          schemaName: spotify-singer-2
    user:
      type: relation
      title: user
      description: Description of the user input
      options:
        position: bottom
      relationType: onetoone
      dependent: false
      bucket:
        resourceFieldRef:
          schemaName: spotify-user-1
  acl:
    write: auth._id == document.singer.identity_id || auth._id ==
      document.user.identity_id
    read: true==true
  order: 3
